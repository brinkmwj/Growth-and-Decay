{"title":"Initializing Open Feint...","scrolling":true,"loadflow":"\nif(OF.page.params.spotlight){$('#game_flow').hide();$('#spotlight_flow').unhide();OF.spotlight=true;}","init":"\n$('body').addClass('textured');$('#header .loading').hide();$('.button').pretouch();if(OF.page.params.mode=='switch'){OF.introSwitch=true;}\nif(OF.introSwitch){$('.switch_flow').unhide(0);$('.intro_flow').hide();}\n$('.game_name').text(OF.game.name);if(OF.page.params.for_new_account){$('#new_account').unhide(0);$('#intro_index .loading').hide();$('.with_decline').hide();}else{if(OF.page.params.preapproved){$('.with_decline').hide();}else{$('.without_decline').hide();}\nvar req=OF.api.request(\"/xp/devices/\"+OF.device.identifier+\"/users\",{httpParams:{timeout:8000},success:function(data){OF.users=data.users;if(OF.users.length==0){$('#intro_index .loading').fadeOut('fast',function(){$('#new_account').unhide();});}else{OF.user=data.users[0].user;$('#found_device .user_name').text(OF.user.name);$('#found_device .feint_score').text(OF.user.gamer_score);if(OF.user.profile_picture_url){$('#found_device .avatar').css('background-image','url('+OF.user.profile_picture_url+')');}\n$('#intro_index .loading').fadeOut('fast');$('.features').fadeOut(function(){$('#found_device').unhide();});}},failure:function(data,status){if(status.match(/^0/)){$('#intro_index .loading').fadeOut('fast',function(){$('#new_account').unhide();});}else{alert('Sorry! Feint is offline right now. Please try again in a few minutes.');OF.sendAction('dismiss');}}});}\n$('form').submit(function(){$(this).children('#submit').touch();return false;})\n$('#new_account #submit').touch(function(){if(!$('#new_account form').isLoading()){var name=$('#new_account #user_login').val();if(name.length>0){$('#new_account form').isLoading(true);OF.api.request('/xp/users/validate',{loader:'#new_account #submit',params:{name:escape(name)},on404:function(data){OF.navigateToUrl('intro/new_account',{params:{userName:$('#new_account #user_login').val()}});},on406:function(data){OF.alert(\"Invalid Username\",$.htmlDecode(data.exception.message));},on409:function(data){var suggestion=$.htmlDecode(data.username.suggestion);if(confirm('Oops, looks like that user name is already taken. Would you like to continue with \"'+suggestion+'\"?  Remember you can always change it later.')){$('#new_account #user_login').val(suggestion);$('#new_account form').isLoading(false);$('#new_account #submit').touch();}},failure:function(data,status){if(!status.match(/^40(4|6|9)/)){return false;}},complete:function(){$('#new_account form').isLoading(false);}});}else{OF.alert('Enter a name','Enter your desired username in the textfield to continue.');}}});$('#found_device .game_name').html(OF.game.name);$('#found_device .user_name').html(OF.user.name);$('#found_device .feint_score').html(OF.user.gamer_score);if(OF.user.profile_picture_url){$('#found_device .avatar').css('background-image','url('+OF.user.profile_picture_url+')');}\nOF.page.boostrapCallback=function(status,response){$('#found_device form').isLoading(false);$('#found_device #submit').text('Start Playing!');OF.loader.hide();if(status.match(/^2/)){OF.log('Successfully bootstrapped with user name: \"'+OF.user.name+'\" id: '+OF.user.id);OF.sendAction('dismiss');}else if(status.match(/404/)){OF.alert('Account not found','There is no Feint account with that username/email.');}else if(status.match(/401/)){OF.alert('Incorrect Password','The password entered is incorrect.');}else{var message=(response.exception&&response.exception.message)?$.htmlDecode(response.exception.message):'Check your username and password and try again';OF.alert('Authentication failed',message);}};$('#found_device #submit').touch(function(){if(!$('#found_device form').isLoading()){if($.trim($('#found_device #user_password').val()).length){$('#found_device form').isLoading(true);OF.loader.show();$('#found_device #submit').html('Loading').append('&hellip;');OF.sendAction('loginUser',{user_id:OF.user.id,password:$('#found_device #user_password').val(),callback:'OF.page.boostrapCallback'});}else{OF.alert('Missing Password','Enter your password to login as this user.');}}});","resume":"","appear":"","html":"<div id='intro'>\n<div id='header'>\n<span class='loading'>\n<span class='spinner'></span>\n</span>\n</div>\n<div class='content'>\n<div id='intro_index'>\n<div class='switch_flow hidden'>\n<p>Create a new Feint account.</p>\n</div>\n<div class='intro_flow'>\n<div id='game_flow'>\n<p>\nPlay\n</p>\n<span class='game_name'></span>\nwith your friends and other gamers!\n</div>\n<div class='hidden' id='spotlight_flow'>\n<p>Join the OpenFeint community to connect with friends and other gamers</p>\n</div>\n<div class='features'>\n<div class='feature_row'>\n<div class='feature' id='leaderboards'>\n<div class='icon'></div>\n<div class='title'>\nPost<br>\nHigh Scores\n</div>\n</div>\n<div class='feature' id='friends'>\n<div class='icon'></div>\n<div class='title'>\nPlay<br>\nwith Friends\n</div>\n</div>\n<div class='feature' id='achievements'>\n<div class='icon'></div>\n<div class='title'>\nEarn<br>\nAchievements\n</div>\n</div>\n<div class='feature' id='games'>\n<div class='icon'></div>\n<div class='title'>\nDiscover<br>\nGames\n</div>\n</div>\n</div>\n</div>\n<div class='loading'>\n<div class='spinner'></div>\n<span>Loading</span>\n</div>\n</div>\n<div class='hidden' id='new_account'>\n<form>\n<div class='input_field'>\n<label>Feint Name:</label>\n<input id='user_login' name='user[login]' type='text'>\n</div>\n<div class='button default' id='submit'>Create</div>\n</form>\n<div class='with_decline'>\n<div class='button_row'>\n<div class='button_wrapper'>\n<div class='button' data-action='decline' data-event='intro,decline'>\nI don't want<br>\nto use Feint\n</div>\n</div>\n<div class='button_wrapper'>\n<div class='button' data-href='intro/login'>\nI already have<br>\na Feint account\n</div>\n</div>\n</div>\n</div>\n<div class='without_decline'>\n<div class='button' data-href='intro/login'>\nI already have a Feint account\n</div>\n</div>\n<div class='intro_flow'>\n<div data-href='intro/tos' id='intro_legal'>\nGame Data will automatically be stored securely on our servers according to our\n<span data-href='intro/tos'>Terms and Conditions.</span>\n</div>\n</div>\n</div>\n<div class='hidden' id='found_device'>\n<div class='inset_cell user'>\n<div class='image avatar'>\n<div class='overlay'></div>\n</div>\n<div class='title user_name'></div>\n<div class='feint_score'></div>\n</div>\n<form>\n<div class='input_field'>\n<div data-href='intro/forgot_password' id='forgot_password'>Forgot password?</div>\n<label>Password:</label>\n<input id='user_password' name='user[password]' type='password'>\n</div>\n<div class='button default' id='submit'>Start Playing!</div>\n</form>\n<div class='with_decline'>\n<div class='button_row'>\n<div class='button_wrapper'>\n<div class='button' data-action='decline'>\nI don't want<br>\nto use Feint\n</div>\n</div>\n<div class='button_wrapper'>\n<div class='button' data-href='intro/login'>\nUse Another<br>\nAccount\n</div>\n</div>\n</div>\n</div>\n<div class='without_decline'>\n<div class='button' data-href='intro/login'>\nUse Another Account\n</div>\n</div>\n</div>\n</div>\n\n</div>\n</div>\n"}